<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="/css/home-admin.css">

	<link rel="icon" href="/img/favicon-logo-urbano.png">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"
		defer>
	</script>

	<title>Admin</title>
</head>

<body>
	<main>
		<div class="page">
			<aside class="d-flex flex-column flex-shrink-0 p-3 min-vh-100 left">
				<a href="/home" target="_blank" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none logo-box">
					<span class="fs-4"><img src="/img/logo-urbano-tshirt-trasparent.png" alt="" class="logo"></span>
				</a>
				<hr>

				
				<div class="dropdown">
					<a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
						data-bs-toggle="dropdown" aria-expanded="false">
						
						<% if(locals.userLogged && userLogged){ %>
							<!-- <img src="<%= userLogged.profilePicture %>" alt="" width="32" height="32" class="rounded-circle me-2"> -->
							<strong class="user-name"><%= userLogged.name %></strong>
						<% } else{ %>
							<img src="https://www.kindpng.com/picc/m/24-248253_user-profile-default-image-png-clipart-png-download.png" alt="" width="32" height="32" class="rounded-circle me-2">
							<strong class="user-name">Nome do usuário</strong>
						<% } %>
						
					</a>
					<ul class="dropdown-menu dropdown-menu-dark text-small shadow">
						<li><a class="dropdown-item" href="#">Cadastrar Admin</a></li>
						<li><a class="dropdown-item" href="#">Configurações</a></li>
						<li>
							<hr class="dropdown-divider">
						</li>
						<li><a class="dropdown-item" href="#">Sair</a></li>
					</ul>
				</div>

				<hr>
				<ul class="nav nav-pills flex-column mb-auto">
					<li class="nav-item">
						<a href="/admin/home" class="nav-link active" aria-current="page">
							<svg class="bi pe-none me-2" width="16" height="16">
								<use xlink:href="#home"></use>
							</svg>
							Produtos
						</a>
					</li>

					<li class="nav-item">
						<a href="/admin/produtos/cadastro" class="nav-link" aria-current="page">
							<svg class="bi pe-none me-2" width="16" height="16">
								<use xlink:href="#home"></use>
							</svg>
							Cadastrar Produto
						</a>
					</li>

					<li class="nav-item">
                        <a href="/admin/produtos/editar" class="nav-link" aria-current="page">
                            <svg class="bi pe-none me-2" width="16" height="16">
                                <use xlink:href="#home"></use>
                            </svg>
                            Editar Produto
                        </a>
                    </li>

					<li class="nav-item">
						<a href="/admin/pedidos" class="nav-link" aria-current="page">
							<svg class="bi pe-none me-2" width="16" height="16">
								<use xlink:href="#home"></use>
							</svg>
							Pedidos
						</a>
					</li>
		
		
				</ul>
			</aside>
	
			<section class="content">
				<div class="d-flex flex-column mt-3">
				 <h1 class="mb-3 product-title ">Produtos</h1>
					<!-- <a href="/admin/produtos/cadastro" class="btn btn-primary mb-3 button-register" >Cadastrar</a> -->
				</div>
	
				<table class="table table-dark table-striped table-bordered product-table">
					<thead>
						<tr>
							<th scope="col" class="col">ID</th>
							<th scope="col">imagem</th>
							<th scope="col">Nome</th>
							<th scope="col" class="col-1">Preço</th>
							<th scope="col">Tamanho</th>
							<th scope="col">Cor</th>
							<th scope="col" class="col-1">Modelo</th>
							<th scope="col">Estoque</th>
							<th scope="col" class="col-1">Ações</th>
						</tr>
					</thead>

					<tbody>
						
						<% productsVariant.forEach( productVariant => { %>
							<tr>
								<th class="product-id" scope="row"><%= productVariant.id %> </th>
								<td class="table-image"><img class="thumb product-image" src="/<%= productVariant.image %>" alt="" width="100px" height="100px"></td>
								<td class="product-name"><%= productVariant.product.name %></td>
								<td class="product-price">R$ <%= productVariant.product.price.toLocaleString("pt-BR", { minimumFractionDigits:2 }) %></td>
								<td class="product-size"><%= productVariant.size %></td>
								<td class="product-color"><%= productVariant.color %></td>
								<td class="product-color"><%= productVariant.model %></td>
								<td class="product-stock-quantity"><%= productVariant.quantity %></td>
								<td class="buttons-table-box">

									<% if(productVariant.model == "masculina"){ %>
										<a href="/produto/<%= productVariant.id %>/masculino" type="button" class="btn btn-primary open-btn" target="_blank">Abrir</a>
									<% }else{ %>
										<a href="/produto/<%= productVariant.id %>/feminino" type="button" class="btn btn-primary open-btn" target="_blank">Abrir</a>
									<% } %>
									
									<a href="/admin/produtos/editar" type="button" class="btn btn-edit-custom edit-btn">Editar</a>

									<form action="/admin/produtos/excluir?_method=DELETE" method="POST" class="delete-btn-form">
										<button type="submit" class="btn btn-danger delete-btn">Excluir</button>
									</form>								
								</td>
							</tr>
						<% }) %>
							

					</tbody>
				</table>
	
			</section>
		</div>
	</main>
</body>

</html>